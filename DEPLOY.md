# Инструкция по деплою с обфускацией

## Процесс работы с обфускацией

### 1. Локальная разработка
- Работайте с оригинальными файлами: `js/app.js`, `js/token-loader.js`
- Тестируйте на локальной машине

### 2. Обфускация перед деплоем
```bash
# На локальной машине или на сервере
npm run obfuscate:full
```

Это создаст файлы:
- `js/app.obf.js`
- `js/token-loader.obf.js`

### 3. Загрузка на сервер
Загрузите обфусцированные файлы на сервер:
- `js/app.obf.js`
- `js/token-loader.obf.js`
- `index.html` (уже настроен на использование .obf.js)

### 4. Работа с Cloudflare
✅ **Обфусцированные файлы работают с Cloudflare без проблем!**

Cloudflare просто отдает статические файлы, обфускация не влияет на работу.

### 5. Обновление кода
Если нужно обновить код:

**Вариант 1: Обновить оригиналы и переобфусцировать**
```bash
# 1. Обновите js/app.js или js/token-loader.js
# 2. Запустите обфускацию
npm run obfuscate:full
# 3. Загрузите новые .obf.js файлы на сервер
```

**Вариант 2: Временно использовать оригиналы**
- `index.html` автоматически переключится на оригинальные файлы, если .obf.js не найдены
- Или временно измените `index.html` обратно на `.js`

## Важно

- ✅ Обфускация делается **локально** или **на сервере** - без разницы
- ✅ Обфусцированные файлы можно загружать через FTP/SFTP/SCP
- ✅ Cloudflare работает с обфусцированными файлами без проблем
- ✅ Если .obf.js не найдены, автоматически загружаются оригинальные .js
- ✅ Всегда сохраняйте оригинальные файлы для разработки

## Проверка

После загрузки проверьте:
1. Откройте сайт в браузере
2. Откройте DevTools → Network
3. Убедитесь, что загружаются `.obf.js` файлы
4. Попробуйте открыть код - он должен быть обфусцирован
